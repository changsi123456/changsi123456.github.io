webpackJsonp([1],{"2SNv":function(t,e){},"7Otq":function(t,e){t.exports="data:image/png;base64,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"},"9fnH":function(t,e,s){t.exports=s.p+"static/img/sw03.901a267.png"},CBhq:function(t,e){},HL3m:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("mt-header",{attrs:{fixed:""}},[e("span",{attrs:{slot:"left"},slot:"left"},[e("a",{attrs:{href:"/main"}},[e("img",{attrs:{src:s("7Otq")}})])]),this._v(" "),e("span",{attrs:{slot:"right"},slot:"right"},[e("router-link",{staticClass:"cart",attrs:{to:"/fav"}},[e("i",{staticClass:"icon iconfont icon-favorite"})]),this._v(" "),e("router-link",{staticClass:"user-icon",attrs:{to:"/login"}},[e("i",{staticClass:"icon iconfont icon-yonghu"})])],1)])},staticRenderFns:[]};var i=s("VU/8")({name:"headerBar"},a,!1,function(t){s("ZsmX")},"data-v-854de436",null).exports,n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("ul",[e("li",[e("router-link",{attrs:{to:{path:"/main"},"active-class":"active01"}},[e("i",{staticClass:"icon iconfont icon-shouye"}),this._v("商城")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:{path:"/"}}},[e("i",{staticClass:"icon iconfont icon-fuwu"}),this._v("服务")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:{path:"/order"},"active-class":"active03"}},[e("i",{staticClass:"icon iconfont icon-dingdan"}),this._v("订单")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:{path:"/user"},"active-class":"active04"}},[e("i",{staticClass:"icon iconfont icon-wode"}),this._v("我的")])],1)])])},staticRenderFns:[]};var r=s("VU/8")({name:"footerBar"},n,!1,function(t){s("XRUD")},"data-v-fc71533a",null).exports,c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=s("VU/8")({name:"App"},c,!1,function(t){s("CBhq")},null,null).exports,d=s("/ocq"),f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("mt-swipe",{attrs:{auto:4e3}},[e("mt-swipe-item",[e("img",{attrs:{src:s("y1m3")}})]),this._v(" "),e("mt-swipe-item",[e("img",{attrs:{src:s("veDq")}})]),this._v(" "),e("mt-swipe-item",[e("img",{attrs:{src:s("9fnH")}})])],1)},staticRenderFns:[]};var u=s("VU/8")({name:"carousel"},f,!1,function(t){s("ZpYm")},"data-v-bd18cf9c",null).exports,m=s("Au9i"),p=s.n(m),v={name:"mainArea",components:{HeaderTop:i,FooterBar:r,Carousel:u},data:function(){return{carList:[],partList:[]}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.all([this.$http.get("/goodslist",{params:{num:4,goodsType:1,page:1}}),this.$http.get("/goodslist",{params:{num:4,goodsType:2,page:1}})]).then(this.$http.spread(function(e,s){return 0!==e.data.errCode?(Object(m.Toast)(e.data.errMsg),!1):0!==s.data.errCode?(Object(m.Toast)(s.data.errMsg),!1):(t.carList=e.data.list,void(t.partList=s.data.list))})).catch(function(t){Object(m.Toast)("服务器无响应，商品列表获取失败")})},showDetails:function(t){this.$router.push({path:"/detail",query:{id:t}})}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header-top"),t._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"container main-scroll"},[s("carousel"),t._v(" "),s("nav",[s("ul",[s("li",[s("router-link",{attrs:{to:"/carlist"}},[s("i",{staticClass:"icon iconfont icon-diandongche01"}),s("span",[t._v("整车热卖")])])],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)])]),t._v(" "),s("div",{staticClass:"hot-car"},[s("h2",[t._v("整车热卖")]),t._v(" "),s("div",{staticClass:"car-list"},[t._m(3),t._v(" "),s("div",{staticClass:"rec-list"},[s("ul",t._l(t.carList,function(e,o){return s("li",[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){t.showDetails(e._id)}}},[s("img",{attrs:{src:t.imgUrl+e.goodsImg}})])])}))])])]),t._v(" "),s("div",{staticClass:"hot-parts"},[s("h2",[t._v("热卖配件")]),t._v(" "),s("div",{staticClass:"parts-list"},[s("div",{staticClass:"rec-list"},[s("ul",t._l(t.partList,function(e){return s("li",[s("a",{attrs:{href:"#"}},[s("img",{attrs:{src:t.imgUrl+e.goodsImg}})])])}))])])])],1)]),t._v(" "),s("FooterBar")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-remai"}),e("span",[this._v("热卖配件")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-mendian"}),e("span",[this._v("线下门店")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-zhoubianyou"}),e("span",[this._v("文化周边")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"recommend"},[e("img",{attrs:{src:"static/img/n1s.jpg"}})])}]};var h=s("VU/8")(v,g,!1,function(t){s("oJi3")},"data-v-24ad8cbc",null).exports,A={name:"order",data:function(){return{orderList:[]}},mounted:function(){this.getOrderList()},methods:{getOrderList:function(){var t=this;this.$http.post("/orderlistGet",{tokenId:localStorage.getItem("tokenId")}).then(function(e){t.orderList=e.data.list}).catch(function(t){Object(m.Toast)("服务器无响应，订单列表获取失败")})}},beforeRouteEnter:function(t,e,s){localStorage.getItem("tokenId")?s():(Object(m.Toast)("请登录"),s("/login"))}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-header",{attrs:{title:"我的订单",fixed:""}},[s("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1)],1),t._v(" "),s("div",{staticClass:"container order-main"},t._l(t.orderList,function(e){return s("div",{staticClass:"order-list"},[s("div",{staticClass:"order-id"},[t._v("订单编号："+t._s(e._id)+" "),s("span",[t._v("已支付")])]),t._v(" "),s("div",{staticClass:"goods-info"},[s("div",{staticClass:"goods-show"},[s("a",{attrs:{href:"#"}},[s("dl",[s("dt",[s("img",{attrs:{src:e.goodslist.goodsImg}})]),t._v(" "),s("dd",[t._v(t._s(e.goodslist.goodsName))]),t._v(" "),s("dd",[t._v("颜色："+t._s(e.goodslist.goodsColor))]),t._v(" "),s("dd",[t._v("数量："+t._s(e.goodslist.goodsNum))]),t._v(" "),s("dd",[t._v("￥"+t._s(e.goodslist.goodsPrice)+".00")])])])])]),t._v(" "),s("div",{staticClass:"deal"},[s("span",[t._v("合计："),s("em",[t._v("￥"+t._s(e.ordertotal)+".00")]),t._v(" (含运费￥0.00)")])])])}))],1)},staticRenderFns:[]};var _=s("VU/8")(A,B,!1,function(t){s("u5Uh")},"data-v-30329e4c",null).exports,b={name:"login",data:function(){return{username:"",password:""}},methods:{subLogin:function(){var t=this;return""==this.username?(Object(m.Toast)({message:"用户名不能为空",position:"top",duration:2e3}),!1):""==this.password?(Object(m.Toast)({message:"密码不能为空",position:"top",duration:2e3}),!1):void this.$http.post("/login",{userName:this.username,passWord:this.password}).then(function(e){if(0!=e.data.errCode)return Object(m.Toast)({message:e.data.errMsg,position:"top",duration:2e3}),!1;localStorage.setItem("tokenId",e.data.tokenId),t.$router.push("/main")}).catch(function(t){Object(m.Toast)({message:"服务器无响应",position:"center",duration:2e3})})},resetFrom:function(){this.username=this.password=""}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-info"},[t._m(0),t._v(" "),s("h2",[t._v("用户登录")]),t._v(" "),s("div",{staticClass:"user-reg"},[s("mt-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("span",{staticClass:"btn"},[s("mt-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return t.subLogin(e)}}},[t._v("登   录")]),t._v(" "),s("mt-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(e){return t.resetFrom(e)}}},[t._v("重  置")])],1)],1),t._v(" "),s("p",[s("router-link",{attrs:{to:"/reg"}},[t._v("还没账号？")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"/main"}},[e("img",{attrs:{src:s("7Otq")}})])])}]};var C=s("VU/8")(b,k,!1,function(t){s("xSwT")},"data-v-7c8b66d4",null).exports,I={name:"reg",data:function(){return{username:"",password:"",password2:"",phone:""}},methods:{subReg:function(){var t=this;if(""==this.username)return Object(m.Toast)({message:"用户名不能为空",position:"top",duration:2e3}),!1;if(""==this.password)return Object(m.Toast)({message:"密码不能为空",position:"top",duration:2e3}),!1;if(this.password!=this.password2)return Object(m.Toast)({message:"两次密码不一致",position:"top",duration:2e3}),!1;if(""==this.phone)return Object(m.Toast)({message:"手机号不能为空",position:"top",duration:2e3}),!1;if(!/^1[34578]\d{9}$/.test(this.phone))return Object(m.Toast)({message:"手机号格式不正确",position:"top",duration:2e3}),!1;this.$http.post("/reg",{userName:this.username,passWord:this.password,userTel:this.phone}).then(function(e){return console.log(e),1==e.data.errCode?(Object(m.Toast)({message:e.data.errMsg,position:"top",duration:2e3}),!1):3==e.data.errCode?(Object(m.Toast)({message:e.data.errMsg,position:"top",duration:2e3}),!1):(Object(m.Toast)({message:e.data.errMsg,position:"top",duration:2e3}),void t.$router.push("/login"))}).catch(function(t){Object(m.Toast)({message:"服务器无响应",position:"center",duration:2e3})})},resetFrom:function(){this.username=this.password=this.password2=this.phone=""}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-info"},[t._m(0),t._v(" "),s("h2",[t._v("用户注册")]),t._v(" "),s("div",{staticClass:"user-reg"},[s("mt-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("mt-field",{attrs:{label:"确认密码",placeholder:"请确认密码",type:"password"},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),t._v(" "),s("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),s("span",{staticClass:"btn"},[s("mt-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return t.subReg(e)}}},[t._v("注  册")]),t._v(" "),s("mt-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(e){return t.resetFrom(e)}}},[t._v("重  置")])],1),t._v(" "),s("p",[s("router-link",{attrs:{to:"/login"}},[t._v("我有账号")])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"/main"}},[e("img",{attrs:{src:s("7Otq")}})])])}]};var F=s("VU/8")(I,T,!1,function(t){s("HL3m")},"data-v-1bf71444",null).exports,L={name:"fav",components:{FooterBar:r},data:function(){return{favList:[]}},beforeRouteEnter:function(t,e,s){localStorage.getItem("tokenId")?s():(Object(m.Toast)("请登录"),s("/login"))},mounted:function(){this.getFavData()},methods:{getFavData:function(){var t=this;this.$http.post("/collectionGet",{tokenId:localStorage.getItem("tokenId")}).then(function(e){t.favList=e.data.list}).catch(function(t){console.log(t)})},delFav:function(t){var e=this;this.$http.post("/collectionRemove",{tokenId:localStorage.getItem("tokenId"),collectionId:t}).then(function(t){e.getFavData()}).catch(function(t){console.log(t)})},jumpDetail:function(t){this.$router.push({path:"/detail",query:{id:t}})}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-header",{attrs:{title:"收藏夹",fixed:""}},[s("router-link",{attrs:{slot:"left",to:"/user"},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1)],1),t._v(" "),s("div",{staticClass:"container fav-main"},t._l(t.favList,function(e){return s("div",{staticClass:"fav-item"},[s("a",{attrs:{href:"#"},on:{click:function(s){t.jumpDetail(e.goodsId)}}},[s("div",{staticClass:"good-img"},[s("img",{attrs:{src:t.imgUrl+e.goodsImg}})]),t._v(" "),s("div",{staticClass:"good-details"},[s("p",[t._v(t._s(e.goodsName))]),t._v(" "),s("p",[t._v("价格：￥"+t._s(e.goodsPrice)+".00")])])]),t._v(" "),s("div",{staticClass:"fav-state"},[s("a",{attrs:{href:"#"},on:{click:function(s){t.delFav(e._id)}}},[t._v("删除")])])])})),t._v(" "),s("FooterBar")],1)},staticRenderFns:[]};var w=s("VU/8")(L,O,!1,function(t){s("2SNv")},"data-v-72e32252",null).exports,y={name:"carlist",components:{HeaderTop:i,FooterBar:r},data:function(){return{carList:[],pageNum:4,pagssize:1,allLoaded:!1,bottomStatus:""}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.get("/goodslist",{params:{num:4,goodsType:1,page:1}}).then(function(e){t.carList=e.data.list})},loadBottom:function(){var t=this;this.pagssize+=1,this.$http.get("/goodslist",{params:{num:4,goodsType:1,page:this.pagssize}}).then(function(e){if(1==e.data.errCode)return Object(m.Toast)({message:e.data.errMsg,position:"bottom",duration:3e3}),!1;for(var s=e.data.list,o=0;o<s.length;o++)t.carList.push(s[o])}).catch(function(t){Object(m.Toast)("服务器无响应，商品列表获取失败")})},showDetails:function(t){this.$router.push({path:"/detail",query:{id:t}})}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header-top"),t._v(" "),s("div",{staticClass:"container list-scroll"},[t._m(0),t._v(" "),s("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},[s("ul",t._l(t.carList,function(e){return s("li",[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){t.showDetails(e._id)}}},[s("img",{attrs:{src:t.imgUrl+e.goodsImg}})])])})),t._v(" "),s("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("上拉加载更多……")])])])],1),t._v(" "),s("FooterBar")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"banner"},[e("img",{attrs:{src:"static/img/n1s.jpg"}})])}]};var x=s("VU/8")(y,R,!1,function(t){s("UHVu")},"data-v-46cd5452",null).exports,M={name:"detail",data:function(){return{active:!0,goodsId:"",favId:"",goodsImg:"../../assets/loading.gif",goodsName:"",goodsPrice:"",goodsColor:"",goodsNum:1,goodsInfo:"",orderList:""}},mounted:function(){this.getFavData(),this.getGoodsDetail()},methods:{beforeRouteEnter:function(t,e,s){localStorage.getItem("tokenId")?s():(Object(m.Toast)("请登录"),s("/login"))},getGoodsDetail:function(){var t=this;this.$http.get("/goodscon",{params:{goodsId:this.$route.query.id}}).then(function(e){t.goodsId=e.data.list[0]._id,t.goodsImg=t.imgUrl+e.data.list[0].goodsImg,t.goodsName=e.data.list[0].goodsName,t.goodsPrice=e.data.list[0].goodsPrice,t.goodsColor=e.data.list[0].goodsColor,t.goodsNum=e.data.list[0].goodsNum,t.goodsInfo=e.data.list[0].goodsInfo}).catch(function(t){Object(m.Toast)("服务器无响应，商品详情信息获取失败")})},getFavData:function(){var t=this;this.$http.post("/collectionGet",{tokenId:localStorage.getItem("tokenId")}).then(function(e){if(console.log(e),0==e.data.errCode)for(var s=e.data.list,o=0;o<s.length;o++)s[o].goodsId==t.goodsId&&(t.active=!1,t.favId=s[o]._id)})},totalPrice:function(){return this.goodsNum*this.goodsPrice},postOrderList:function(){var t=this;this.orderList={goodsImg:this.goodsImg,goodsName:this.goodsName,goodsPrice:this.goodsPrice,goodsColor:this.goodsColor,goodsNum:this.goodsNum},this.$http.post("/orderlistAdd",{tokenId:localStorage.getItem("tokenId"),orderList:this.orderList,orderTotal:this.totalPrice()}).then(function(e){Object(m.Toast)({message:"订单成功提交",position:"center",duration:3e3}),t.orderList="",t.$router.push("/order")}).catch(function(t){Object(m.Toast)("服务器无响应，订单提交失败")})},addFav:function(){this.active?(this.active=!1,this.$http.post("/collectionAdd",{tokenId:localStorage.getItem("tokenId"),goodsId:this.goodsId}).then(function(t){Object(m.Toast)("商品收藏成功"),console.log(t)}).catch(function(t){console.log(t)})):(this.active=!0,this.$http.post("/collectionRemove",{tokenId:localStorage.getItem("tokenId"),collectionId:this.favId}).then(function(t){Object(m.Toast)("商品移除成功")}).catch(function(t){console.log(t)}))}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-header",{attrs:{title:"商品详情",fixed:""}},[s("router-link",{attrs:{slot:"left",to:"/carlist"},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1)],1),t._v(" "),s("div",{staticClass:"container detail-main"},[s("div",{staticClass:"goods-detail"},[s("dl",[s("dt",[s("img",{attrs:{src:t.goodsImg}})]),t._v(" "),s("dd",[t._v("名称："),s("em",[t._v(t._s(t.goodsName))])]),t._v(" "),s("dd",[t._v("价格："),s("em",[t._v("￥"+t._s(t.goodsPrice))])]),t._v(" "),s("dd",[t._v("颜色:"),s("em",[t._v(t._s(t.goodsColor))])]),t._v(" "),s("dd",[t._v("数量："),s("span",[s("a",{attrs:{href:"#"},on:{click:function(e){!(t.goodsNum>1)||t.goodsNum--}}},[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.goodsNum,expression:"goodsNum"}],attrs:{type:"number"},domProps:{value:t.goodsNum},on:{input:function(e){e.target.composing||(t.goodsNum=e.target.value)}}}),s("a",{attrs:{href:"#"},on:{click:function(e){t.goodsNum++}}},[t._v("+")])])])]),t._v(" "),s("div",{staticClass:"goods-info"},[s("p",[t._v(t._s(t.goodsInfo))])])])]),t._v(" "),s("div",{staticClass:"buy"},[s("span",[t._v("合计：￥"+t._s(t.totalPrice()))]),s("span",{class:t.active?"":"active",on:{click:t.addFav}},[t._v("加入收藏")]),s("span",[s("a",{attrs:{href:"javascript:void(0)"},on:{click:t.postOrderList}},[t._v("立即购买")])])])],1)},staticRenderFns:[]};var j=s("VU/8")(M,E,!1,function(t){s("oZRe")},"data-v-33d9251c",null).exports,N={name:"user",components:{FooterBar:r},data:function(){return{userCenter:[]}},methods:{loginOut:function(){var t=this;m.MessageBox.confirm("确定执行此操作?").then(function(e){e&&(localStorage.removeItem("tokenId"),t.$router.push("/"))})},getUserCenter:function(){var t=this;this.$http.post("/userCenter",{tokenId:localStorage.getItem("tokenId")}).then(function(e){t.userCenter=e.data.list})}},beforeRouteEnter:function(t,e,s){localStorage.getItem("tokenId")?s():(Object(m.Toast)("请登录"),s("/login"))},mounted:function(){this.getUserCenter()}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mt-header",{attrs:{title:"用户中心",fixed:""}},[s("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[s("mt-button",{attrs:{icon:"back"}})],1)],1),t._v(" "),s("div",{staticClass:"user-info"},[s("div",{staticClass:"user-name"},[s("i",{staticClass:"icon iconfont icon-diandongche"}),s("em",[t._v(t._s(t.userCenter.userName))]),t._v(" "),s("span",{on:{click:t.loginOut}},[t._v("退出")])]),t._v(" "),s("mt-cell",{attrs:{title:"电话号码"}},[s("span",{staticStyle:{color:"green"}},[t._v(t._s(t.userCenter.usertel))])]),t._v(" "),s("mt-cell",{attrs:{title:"收藏夹","is-link":"",to:"/fav"}},[t._v(t._s(t.userCenter.collection))]),t._v(" "),s("mt-cell",{attrs:{title:"订单列表","is-link":"",to:"/order"}},[s("span",{staticStyle:{color:"green"}}),t._v(t._s(t.userCenter.order))])],1),t._v(" "),s("FooterBar")],1)},staticRenderFns:[]};var Z=s("VU/8")(N,D,!1,function(t){s("u1Y9")},"data-v-4fa3e8a3",null).exports;o.default.use(d.a);var J=new d.a({routes:[{path:"/",redirect:"/main"},{path:"/main",name:"mainArea",component:h},{path:"/order",name:"order",component:_},{path:"/login",name:"login",component:C},{path:"/reg",name:"reg",component:F},{path:"/fav",name:"fav",component:w},{path:"/carlist",name:"carlist",component:x},{path:"/detail",name:"detail",component:j},{path:"/user",name:"user",component:Z},{path:"*",redirect:"/"}]}),S=s("mtWM"),V=s.n(S);s("d8/S");o.default.use(p.a),o.default.prototype.$http=V.a,V.a.defaults.baseURL="http://10.10.4.205:3000",o.default.prototype.imgUrl="http://10.10.4.205:3000/",o.default.config.productionTip=!1,new o.default({el:"#app",router:J,components:{App:l},template:"<App/>"})},UHVu:function(t,e){},XRUD:function(t,e){},ZpYm:function(t,e){},ZsmX:function(t,e){},"d8/S":function(t,e){},oJi3:function(t,e){},oZRe:function(t,e){},u1Y9:function(t,e){},u5Uh:function(t,e){},veDq:function(t,e,s){t.exports=s.p+"static/img/sw02.7854db7.png"},xSwT:function(t,e){},y1m3:function(t,e,s){t.exports=s.p+"static/img/sw01.cd3192a.png"}},["NHnr"]);
//# sourceMappingURL=app.43564f896a5c04d3d182.js.map